<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <title>イベントを管理してみる</title>
</head>
<body>

<h3>目的</h3>
<ul>
<li>JSはイベント管理が煩雑になりがちなので管理してみる。対象は以下の通り
<li>静的：DOM生成時に実行するイベント
<li>静的：要素に対して割り当てるイベント
<li>？？：ｎ秒後など画面上の要素ではないが割り当てられるイベント
<li>？？：カスタムイベント（お勉強してから）
<li>動的：動的に生成した要素に対してイベントを割り当てる（お勉強してから）
<li>動的：要素の状態や条件によって割り当てを制御。表示時１回だけ（確認画面はイベント発生させない等）
<li>動的：要素の状態や条件によって割り当てを制御。画面上の要素の操作により発生。（確認画面はイベント発生させない等）
</ul>

<form id="myform">

<select id="select1">
</select>

<select id="select2">
</select>

</form>

<script
  src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
  integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc="
  crossorigin="anonymous"></script>
<script type="text/javascript">

var array = [
 { "id": 1, "text" : "text1"},
 { "id": 2, "text" : "text2"},
 { "id": 3, "text" : "text3"}
];


var result = $.map(array, function(item, index) {
  return item.text;
});
console.log(result);

var resultArray = $.map(array, function(item, index) {
  return [item.id, item.text];
});
console.log(resultArray);

var resultArray2 = $.map(array, function(item, index) {
  return [item.text, item.text, item.text];
});
console.log(resultArray2);

// おまけ
// ref. http://qiita.com/kazu56/items/8e92d08fd1bba0a2d771
var createOptionElement = function(text, value) {
  return $('<option />', {
    val : value,
    text : text
  });
}

var options = $.map(array, function(item, index) {
  return createOptionElement(item.text, item.id);
});

$('#select1 option').remove();
$('#select1').append(options);


</script>

</body>
</html>
